{
    "$schema": "http://json-schema.org/draft-06/schema#",
    

    "properties": {
        "TextModule": {
            "$ref": "#/definitions/TextModule"
        }
    },
    "additionalProperties": true,
    "definitions": {
        "TextModule": {
            "type": "object",
            "properties": {
                "__type": {
                    "type": "string",
                    "description": "对应的类型，在根部固定为 MOD.InterludeData,Assembly-CSharp",
                    "default": "MOD.InterludeData,Assembly-CSharp"
                },
                "value": {
                    "type": "object",
                    "properties": {
                        "ModuleKey": {
                            "type": "string",
                            "description": "幕间的代号"
                        },
                        "Localization_ModuleName": {
                            "$ref": "#/definitions/Localization",
                            "description": "幕间模组的名称"
                        },
                        "IsLock": {
                            "type": "boolean",
                            "description": "幕间是否可被游玩."
                        },
                        "StartInterludeInfo": {
                            "$ref": "#/definitions/Localization",
                            "description": "幕间的介绍文本"
                        },
                        "BGM": {
                            "type": "object",
                            "properties": {
                                "AudioRes": {
                                    "anyOf": [{
                                        "type": "string",
                                        "description": "对应的模组BGM"
                                    },
                                    {
                                        "type": "null"
                                    }]
                                },
                                "Volume": {
                                    "type": "number",
                                    "description": "音量大小"
                                },
                                "FadeTime": {
                                    "type": "number",
                                    "description": "渐入渐出时间（秒）"
                                }
                            },
                            "required": [
                                "AudioRes",
                                "Volume",
                                "FadeTime"
                            ]
                        },
                        "NoProfNameList": {
                            "type": "array",
                            "description": "可进行这个幕间的职业列表",
                            "items": {
                                "type": "string",
                                "examples": [
                                    "学者",
                                    "警察",
                                    "打手",
                                    "侦探",
                                    "医生",
                                    "旅者"
                                ]
                            }
                        },
                        "LockCheckList": {
                            "type": "array",
                            "description": "解锁检查条件列表（目前版本暂时没有条件）"
                        },
                        "Config": {
                            "type": "object",
                            "properties": {
                                "All": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/definitions/Interclude"
                                    }
                                }
                            },
                            "required": [
                                "All"
                            ]
                        },
                        "InterludeCoverPath": {
                            "type": "string",
                            "description": "这个幕间的封面的路径"
                        }
                    },
                    "required": [
                        "ModuleKey",
                        "Localization_ModuleName",
                        "IsLock",
                        "StartInterludeInfo",
                        "BGM",
                        "NoProfNameList",
                        "LockCheckList",
                        "Config",
                        "InterludeCoverPath"
                    ]
                }
            },
            "required": [
                "__type",
                "value"
            ]
        },
        "Interclude": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "ChooseKey": {
                    "type": "string",
                    "description": "这个章节的代号，在跳转指令中可以通过这个代号来指定跳转到的章节。"
                },
                "Segments": {
                    "type": "array",
                    "description": "这个章节中包含的部分，会从前到后顺序执行",
                    "items": {
                        "$ref": "#/definitions/Segment"
                    }
                },
                "InterludeOptions": {
                    "type": "array",
                    "description": "完成 Segments 内的操作后，会显示出这里标识的若干个选项，由玩家进行选择。",
                    "items": {
                        "$ref": "#/definitions/InterludeOption"
                    }
                }
            },
            "required": [
                "ChooseKey",
                "InterludeOptions",
                "Segments"
            ],
            "title": "Interclude"
        },
        "InterludeOption": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "Localization_BtnDes": {
                    "$ref": "#/definitions/Localization",
                    "description": "按钮上的描述"
                },
                "Localization_BtnTip": {
                    "$ref": "#/definitions/Localization",
                    "description": "按钮的悬浮说明"
                },
                "Trait_Locks": {
                    "type": "array",
                    "description": "暂时用处不明",
                    "items": {}
                },
                "Trait_Awards": {
                    "type": "array",
                    "description": "暂时用处不明",
                    "items": {}
                },
                "Checks": {
                    "type": "array",
                    "description": "用于表示这个选项可被选择的条件，仅当内部的所有条件满足时，可被选择",
                    "items": {}
                },
                "Opts": {
                    "type": "array",
                    "description": "点选后会执行的相关行为",
                    "items": {
                        "$ref": "#/definitions/Opt"
                    }
                },
                "IsCompleteBtn": {
                    "type": "boolean",
                    "description": "标识这是否是“幕间完成”按钮，如果是则文本内容/逻辑会被替换。"
                }
            },
            "required": [
                "Checks",
                "IsCompleteBtn",
                "Localization_BtnDes",
                "Localization_BtnTip",
                "Opts",
                "Trait_Awards",
                "Trait_Locks"
            ],
            "title": "InterludeOption"
        },
        "Localization": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "TarKey": {
                    "anyOf": [
                        {
                            "type": "null"
                        },
                        {
                            "type": "string"
                        }
                    ],
                    "description": "对应本地化文本的编号"
                },
                "InputText": {
                    "anyOf": [
                        {
                            "type": "null"
                        },
                        {
                            "type": "string"
                        }
                    ],
                    "description": "这句话对应的文本（会用于本地化语音的关联）"
                },
                "UseCustomParam": {
                    "type": "boolean",
                    "description": "文本中是否使用了部分自定义替代参数（如技能名，请使用 CustomParam 以保证正确的本地化行为）"
                },
                "CustomParams": {
                    "type": "array",
                    "items": {},
                    "description": "对自定义替代参数的定义"
                }
            },
            "required": [
                "CustomParams",
                "InputText",
                "TarKey",
                "UseCustomParam"
            ],
            "title": "Localization",
            "default": {
                "CustomParams": [],
                "InputText": "寻找屋主人",
                "TarKey": "55215827eaf3f2ffd0ab57d8bbb836d8",
                "UseCustomParam" : false
            }
        },
        "Opt": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "__type": {
                    "type": "string"
                },
                "SetMode": {
                    "type": "integer"
                },
                "SpritePath": {
                    "type": "string"
                },
                "_baseKey": {
                    "type": "string",
                    "format": "integer"
                },
                "TarKey": {
                    "type": "string"
                }
            },
            "required": [
                "__type",
                "_baseKey"
            ],
            "title": "Opt"
        },
        "Segment": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "Sound": {
                    "type": "null"
                },
                "NarratorData": {
                    "$ref": "#/definitions/NarratorData"
                },
                "RoleDialog": {
                    "type": "null"
                },
                "SpritePath": {
                    "type": "null"
                },
                "Complete_Opt": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/Opt"
                    }
                }
            },
            "required": [
                "Complete_Opt",
                "NarratorData",
                "RoleDialog",
                "Sound",
                "SpritePath"
            ],
            "title": "Segment"
        },
        "NarratorData": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "OverrideSpeaker": {
                    "type": "null"
                },
                "Localization_Des": {
                    "$ref": "#/definitions/Localization"
                }
            },
            "required": [
                "Localization_Des",
                "OverrideSpeaker"
            ],
            "title": "NarratorData"
        }
    }
}
